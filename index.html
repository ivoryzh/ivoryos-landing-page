<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IvoryOS</title>
    <link rel="icon" type="image/png" href="assets/favicon.ico">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>
<body>
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <img src="assets/images/ivoryos_logo.png" alt="IvoryOS Logo" style="width: 150px; height: auto; ">
            <h1 class="hero-title">IvoryOS</h1>
            <p class="hero-subtitle">The Plug-and-Play Orchestrator for Self-Driving Labs</p>
            <div class="badges">
                <a href="https://demo.ivoryos.ai" target="_blank" class="badge">Launch Demo</a>
                <a href="https://gitlab.com/heingroup/ivoryos" target="_blank" class="badge">GitLab</a>
                <a href="https://www.nature.com/articles/s41467-025-60514-w" target="_blank" class="badge">Publication</a>
                <a href="https://gitlab.com/heingroup/ivoryos-suite/ivoryos-mcp" target="_blank" class="badge">MCP Server</a>
            </div>
        </div>
        <div class="scroll-indicator"></div>
    </section>

    <!-- About IvoryOS Section -->
    <section class="about-section fade-in">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>About IvoryOS</h2>
                    <p>
                        IvoryOS tackles a core challenge in self-driving laboratories: building flexible, adaptive user interfaces.
                    </p>
                    <p>
                        It dynamically renders functions and parameters from initialized Python modules, with minimal changes to existing workflows.
                    </p>
                    <p>
                        Simply run <code>ivoryos.run(__name__)</code> to turn your code into an interactive control interface.
                    </p>
                </div>
                <div class="about-visual">
                    <div class="video-container">
                        <iframe width="560" height="315" src="https://www.youtube.com/embed/flr5ydiE96s?si=1OgulfXXvn3OsyVe" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section">
        <div class="container">
            <div class="section-header fade-in">
                <h2 class="section-title">Key Features</h2>
            </div>

            <div class="features-grid">
                <div class="feature-card fade-in" style="--delay: 1">
                    <h3 class="feature-title">Visual Workflow Builder</h3>
                    <p class="feature-description">Design and customize experiments with an intuitive drag-and-drop script editor.</p>
                </div>

                <div class="feature-card fade-in" style="--delay: 3">
                    <h3 class="feature-title">Chat Interface via MCP</h3>
                    <p class="feature-description">Control and command your robotic platforms using natural language through our MCP server.</p>
                </div>

                <div class="feature-card fade-in" style="--delay: 4">
                    <h3 class="feature-title">Seamless Collaboration</h3>
                    <p class="feature-description">Share platforms effortlessly across teams, enabling rapid knowledge transfer and collaboration.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Integration Gallery -->
    <section class="integration-gallery fade-in">
        <div class="container">
            <h2>Integration Gallery</h2>
            <div class="gallery" id="gallery">
                <div class="gallery-track" id="galleryTrack">
                    <!-- Images will be dynamically loaded here -->
                </div>
            </div>
        </div>
    </section>

    <!-- Acknowledgements Section -->
    <section class="acknowledgements-section">
<!--        <h2>Acknowledgements</h2>-->
        <div style="display: flex; gap: 40px; justify-content: center; align-items: center; flex-wrap: wrap;">
            <a href="#" class="lab-logo-link" target="_blank" rel="noopener noreferrer" style="text-decoration: none;">
                <img src="assets/images/ubc-logo.png" alt="ubc Logo" class="lab-logo">
            </a>
            <a href="https://heinlab.com" class="lab-logo-link" target="_blank" rel="noopener noreferrer" style="text-decoration: none;">
                <img src="assets/images/heinlab_logo.png" alt="Hein Lab Logo" class="lab-logo">
            </a>
            <a href="https://telescopeinnovations.com" class="lab-logo-link" target="_blank" rel="noopener noreferrer" style="text-decoration: none;">
                <img src="assets/images/ti_logo.png" alt="Telescope Logo" class="lab-logo">
            </a>
            <a href="https://acceleration.utoronto.ca" class="lab-logo-link" target="_blank" rel="noopener noreferrer" style="text-decoration: none;">
                <img src="assets/images/ac_logo.png" alt="AC Logo" class="lab-logo">
            </a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-links">
                <a href="https://gitlab.com/heingroup/ivoryos" class="footer-link">GitLab</a>
                <a href="https://ivoryos.readthedocs.io/" class="footer-link">Documentation</a>
                <a href="https://pypi.org/project/ivoryos/" class="footer-link">PyPI</a>
                <a href="https://www.nature.com/articles/s41467-025-60514-w" class="footer-link">Publication</a>
                <a href="https://youtu.be/dFfJv9I2-1g" class="footer-link">YouTube</a>
            </div>
            <p>&copy; 2025 Hein Lab, University of British Columbia. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // Intersection Observer for fade-in animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Load and display images from the images folder
        async function loadGalleryImages() {
            const galleryTrack = document.getElementById('galleryTrack');

            // Common image extensions to look for
            const imageFiles = [];

            // Try to load common image filenames
            const commonNames = [
                'PurPOSE.png', 'LLE.png', 'TI Solubility.png', 'heinSight.png',
            ];

            // Try to load images with common names
            for (const name of commonNames) {
                // for (const ext of imageExtensions) {
                try {
                    const img = new Image();
                    const src = `assets/integrations/${name}`;
                    await new Promise((resolve, reject) => {
                        img.onload = resolve;
                        img.onerror = reject;
                        img.src = src;
                    });
                    imageFiles.push({
                        src: src,
                        alt: name.split(".")[0]
                    });
                    if (imageFiles.length >= 8) break; // Limit to 8 images
                } catch (e) {
                    // Image doesn't exist, continue
                }
                // }
                if (imageFiles.length >= 8) break;
            }

            if (imageFiles.length !== 0) {
                // Create image cards
                imageFiles.forEach(image => {
                    const div = document.createElement('div');
                    div.className = 'integration-item';
                    div.innerHTML = `
                        <img src="${image.src}" alt="${image.alt}" loading="lazy">
                        <div class="integration-overlay">
                            <h4>${image.alt}</h4>
                        </div>
                    `;
                    galleryTrack.appendChild(div);
                });
            }

            // Duplicate items for seamless scrolling
            const items = Array.from(galleryTrack.children);
            items.forEach(item => {
                const clone = item.cloneNode(true);
                galleryTrack.appendChild(clone);
            });
        }

        // Initialize gallery when page loads
        document.addEventListener('DOMContentLoaded', loadGalleryImages);

        // CSS animation for floating particles
        const style = document.createElement('style');
        style.textContent = `
            @keyframes floatUp {
                to {
                    transform: translateY(-${window.innerHeight + 100}px);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>